{{ define "main" }}
  <style>
    .ro-wrap{max-width:1200px;margin:0 auto;padding:2.25rem 1.25rem 3rem}
    .ro-title{font-size:clamp(28px,4vw,44px);font-weight:800;margin:0 0 1rem}
    .ro-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:14px}
    .ro-card{display:block;position:relative;overflow:hidden;border-radius:14px}
    .ro-card img{width:100%;height:100%;object-fit:cover;display:block;pointer-events:none}
    .ro-card:hover{opacity:.95;transform:translateY(-1px);transition:.18s}
  </style>
  <div class="ro-wrap">
    <h1 class="ro-title">Works</h1>
    <div class="ro-grid">
      {{ range (sort .Pages ".Date" "desc") }}
        {{ $img := false }}
        {{ with .Resources.GetMatch (printf "*%s" (path.Base .Params.cover.image)) }}{{ $img = . }}{{ end }}
        {{ if $img }}
          {{ $w800 := $img.Resize "800x q80" }}
          {{ $w1600 := $img.Resize "1600x q80" }}
          <a class="ro-card" href="{{ .RelPermalink }}" title="{{ .Title }}">
            <img
              src="{{ $w800.RelPermalink }}"
              srcset="{{ $w800.RelPermalink }} 800w, {{ $w1600.RelPermalink }} 1600w"
              sizes="(max-width: 700px) 100vw, 33vw"
              alt="{{ .Params.cover.alt }}"
              loading="lazy" decoding="async">
          </a>
        {{ end }}
      {{ end }}
    </div>
  </div>
{{ end }}