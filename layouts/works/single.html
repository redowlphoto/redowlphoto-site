{{ define "main" }}
  <style>
    .ro-wrap{max-width:1100px;margin:0 auto;padding:2rem 1.25rem 4rem}
    .ro-title{font-size:clamp(28px,4vw,44px);font-weight:800;margin:0 0 1rem}
    .ro-meta{opacity:.75;margin:0 0 1.5rem}
    .ro-figure{margin:0 0 1.25rem;border-radius:14px;overflow:hidden}
    .ro-figure img{width:100%;height:auto;display:block}
    .ro-cap{opacity:.85;margin-top:.25rem}
  </style>
  <div class="ro-wrap">
    <h1 class="ro-title">{{ .Title }}</h1>
    <div class="ro-meta">
      {{ with .Params.location }}{{ . }} Â· {{ end }}{{ .Date | time.Format "January 2, 2006" }}
    </div>

    {{ $img := false }}
    {{ with .Resources.GetMatch (printf "*%s" (path.Base .Params.cover.image)) }}{{ $img = . }}{{ end }}
    {{ if $img }}
      {{ $w1200 := $img.Resize "1200x q85" }}
      {{ $w2000 := $img.Resize "2000x q85" }}
      <figure class="ro-figure">
        <img
          src="{{ $w1200.RelPermalink }}"
          srcset="{{ $w1200.RelPermalink }} 1200w, {{ $w2000.RelPermalink }} 2000w"
          sizes="(max-width: 1100px) 100vw, 1100px"
          alt="{{ .Params.cover.alt }}"
          loading="eager" decoding="async">
        {{ with .Params.caption }}<figcaption class="ro-cap">{{ . }}</figcaption>{{ end }}
      </figure>
    {{ end }}

    {{ .Content }}
  </div>
{{ end }}